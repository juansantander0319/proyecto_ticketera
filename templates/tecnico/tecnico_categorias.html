{% extends "base.html" %}

{% block title %}Gestión de Categorías y Flujos - Ticketera{% endblock %}

{% block content %}
<div class="container-fluid fade-in">
  <div class="row">
    <!-- Sidebar -->
    {% include 'partials/sidebar_tecnico.html' %}


    <!-- Contenido principal -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <h2 class="mt-4"><i class="bi bi-tags-fill"></i> Gestión de Categorías y Flujos</h2>
      <p class="text-muted">Administra las categorías de tickets y define los SLA.</p>

      <!-- Botón agregar -->
      <div class="mb-3 text-end">
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalCategoria">
          <i class="bi bi-plus-circle"></i> Nueva Categoría
        </button>
      </div>

      <!-- Tabla de categorías -->
      <div class="card shadow-sm">
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-striped table-hover align-middle">
              <thead>
                <tr>
                  <th>Nombre</th>
                  <th>Descripción</th>
                  <th>SLA Respuesta</th>
                  <th>SLA Resolución</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <!-- Datos simulados -->
                <tr>
                  <td>Hardware</td>
                  <td>Problemas con equipos físicos</td>
                  <td>4h</td>
                  <td>24h</td>
                  <td>
                    <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modalCategoria"><i class="bi bi-pencil"></i></button>
                    <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button>
                  </td>
                </tr>
                <tr>
                  <td>Software</td>
                  <td>Errores o instalación de programas</td>
                  <td>2h</td>
                  <td>12h</td>
                  <td>
                    <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modalCategoria"><i class="bi bi-pencil"></i></button>
                    <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button>
                  </td>
                </tr>
                <tr>
                  <td>Redes</td>
                  <td>Conectividad y acceso a internet</td>
                  <td>1h</td>
                  <td>8h</td>
                  <td>
                    <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modalCategoria"><i class="bi bi-pencil"></i></button>
                    <button class="btn btn-sm btn-outline-danger"><i class="bi bi-trash"></i></button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Modal Nueva/Editar Categoría -->
      <div class="modal fade" id="modalCategoria" tabindex="-1" aria-labelledby="modalCategoriaLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header bg-primary text-white">
              <h5 class="modal-title" id="modalCategoriaLabel"><i class="bi bi-tags-fill"></i> Categoría</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <form class="row g-3">
                <div class="col-12">
                  <label for="nombreCategoria" class="form-label">Nombre</label>
                  <input type="text" class="form-control" id="nombreCategoria" required>
                </div>
                <div class="col-12">
                  <label for="descripcionCategoria" class="form-label">Descripción</label>
                  <textarea class="form-control" id="descripcionCategoria" rows="2"></textarea>
                </div>
                <div class="col-md-6">
                  <label for="slaRespuesta" class="form-label">SLA Respuesta (horas)</label>
                  <input type="number" class="form-control" id="slaRespuesta" min="1">
                </div>
                <div class="col-md-6">
                  <label for="slaResolucion" class="form-label">SLA Resolución (horas)</label>
                  <input type="number" class="form-control" id="slaResolucion" min="1">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
              <button class="btn btn-primary">Guardar</button>
            </div>
          </div>
        </div>
      </div>

    </main>
  </div>
</div>
{% endblock %}
